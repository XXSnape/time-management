{% extends "base.html" %}

{% block content %}
<div class="form-container">
    <h1>Редактировать задачу</h1>
    
    <form method="post" action="/tasks/{{ id }}/edit" class="item-form">
        <div class="form-group">
            <label for="name">Название задачи*</label>
            <input type="text" id="name" name="name" maxlength="40" 
                   value="{{ name }}" required>
        </div>
        
        <div class="form-group">
            <label for="deadline_datetime">Срок выполнения*</label>
            <input type="datetime-local" id="deadline_datetime" name="deadline_datetime"
                   value="{{ deadline_datetime.replace(' ', 'T').replace('+03:00', '') }}" required>
        </div>
        
        <div class="form-group">
            <label for="description">Описание</label>
            <textarea id="description" name="description" maxlength="250" rows="4">{{ description }}</textarea>
        </div>
        
        <div class="form-group">
            <label for="hour_before_reminder">Напомнить за (часов)*</label>
            <input type="number" id="hour_before_reminder" name="hour_before_reminder" 
                   min="1" max="24" value="{{ hour_before_reminder }}" required>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="submit-btn">Сохранить изменения</button>
            {% if not date_of_completion %}
                <a href="{{ url_for('tasks:mark', task_id=id)  }}" class="complete-btn">✓ Отметить выполненной</a>
            {% else %}
                <span class="completed-label">✓ Выполнена: {{ date_of_completion }}</span>
            {% endif %}
            <a href="{{ url_for('tasks:view')}}" class="cancel-btn">Отмена</a>
        </div>
    </form>
</div>
{% endblock %}