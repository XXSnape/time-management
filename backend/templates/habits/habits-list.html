{% extends "base.html" %}

{% block content %}
<div class="items-container">
    <div class="items-header">
        <div>
            <a href="/" class="back-btn">{{ to_main_text }}</a>
            <h1>{{ my_habits_text }}</h1>
        </div>
        <div class="header-actions">
            <a href="{{ url_for('habits:stats') }}" class="stats-btn">{{ stats_text }}</a>
            <a href="{{ url_for('habits:create') }}" class="create-btn">{{ create_text }}</a>
        </div>
    </div>

    <div class="item-list">
        {% if not items %}
            <p>{{ no_habits_text }}</p>
        {% else %}
            {% for habit in items %}
            <div class="item-card">
                <h3>{{ habit.name }}</h3>
                <div class="item-actions">
                    <a href="{{ url_for('habits:edit', habit_id=habit.id) }}">{{ edit_text }}</a>
                <form action="/habits/{{ habit.id }}/delete{% if request.query_params %}?{{ request.query_params }}{% endif %}" method="post" style="display:inline;">
                    <button type="submit">{{ delete_text }}</button>
                </form>
                </div>
            </div>
            {% endfor %}
        {% endif %}
    </div>

    <div class="pagination">
        {% if page > 1 %}
            <a href="?page={{ page - 1 }}">← {{ back_text }}</a>
        {% endif %}
        
        {% for p in range(1, pages + 1) %}
            {% if p == page %}
                <span class="current-page">{{ p }}</span>
            {% else %}
                <a href="?page={{ p }}">{{ p }}</a>
            {% endif %}
        {% endfor %}
        
        {% if page < pages %}
            <a href="?page={{ page + 1 }}">{{ forward_text }} →</a>
        {% endif %}
    </div>
</div>
{% endblock %}